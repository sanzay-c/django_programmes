{% extends "base.html" %}
{% block title %}
    Update Recipe
{% endblock title %}
{% block start %}

<div class="container d-flex justify-content-center align-items-center mt-2 min-vh-100">
    <form class="col-6 p-4 shadow-lg" method="POST" enctype="multipart/form-data" style="background-color: rgba(255, 255, 255, 0.9); backdrop-filter: blur(5px); border-radius: 20px;">
        {% csrf_token %}
        <h2 class="text-center mb-3" style="font-weight: bold; color: #FE724c; ">Update Recipe</h2>
        <hr style="color: rgb(0, 0, 0);">

        <div class="mb-3">
            <label for="recipe_name" class="form-label">Recipe Name</label>
            <input name="recipe_name" value="{{ recipe.recipe_name }}" type="text" class="form-control" id="recipe_name" placeholder="Recipe Name" required>
        </div>

        <div class="mb-3">
            <label for="recipe_description" class="form-label">Recipe Description</label>
            <textarea class="form-control" name="recipe_description" id="recipe_description" placeholder="Recipe Description" required>{{ recipe.recipe_description }}</textarea>
        </div>
        <!-- ingredients -->
        <div class="mb-3">
            <label for="recipe_dients" class="form-label">Ingredients Required</label>
            <textarea class="form-control" name="recipe_ingridents" id="recipe_ingredients" placeholder="Ingredients Required" required>{{ recipe.recipe_ingridents }}</textarea>
        </div>

        <div class="mb-3">
            <label for="instructions" class="form-label">Instructions</label>
            <textarea class="form-control" name="instructions" id="instructions" placeholder="Instructions" required>{{ recipe.instructions }}</textarea>
        </div>

        <div class="mb-3">
            <label for="cooking_time" class="form-label">Cooking Time (minutes)</label>
            <input name="cooking_time" type="number" value="{{ recipe.cooking_time }}" class="form-control" id="cooking_time" placeholder="Cooking Time (minutes)" required>
        </div>
        
        <!-- Category Dropdown -->
        <div class="mb-3">
            <label for="category" class="form-label">Recipe Category</label>
            <select name="category" class="form-control" required>
                {% for value, label in CATEGORY_CHOICES %}
                    <!-- Check if the category matches the current recipe's category -->
                    <option value="{{ value }}" {% if value == recipe.category %}selected{% endif %}>{{ label }}</option>
                {% endfor %}
            </select>
        </div>
        


        <div class="mb-3">
            <label for="recipe_image" class="form-label">Recipe Image (Choose image if you want to update, else leave it)</label>
            <input type="file" name="recipe_image" class="form-control" id="recipe_image">
        </div>

        <div class="d-grid gap-2">
            <button type="submit" class="btn" style="background-color: #FE724c; color: white; border-radius: 8px;">Update Recipe</button>
        </div>
    </form>
</div>

{% endblock %}
